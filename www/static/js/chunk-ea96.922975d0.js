(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ea96"],{"+hE4":function(t,e,i){"use strict";var a=i("7umj");i.n(a).a},"7umj":function(t,e,i){},HxxB:function(t,e,i){"use strict";i.r(e);var a=i("QbLZ"),l=i.n(a),s=i("vDqi"),r=i.n(s),n=i("L2JU"),u={data:function(){return{checked:!0,Meal:[{value1:"mf",label:"免费版"},{value1:"bz",label:"标准版"},{value1:"gj",label:"高级版"}],value1:"",Mealtime:[{value2:"bb",label:"不变"},{value2:"ygy",label:"一个月"},{value2:"sgy",label:"三个月(8.5折)"},{value2:"bn",label:"半年(8折)"},{value2:"yn",label:"一年(7折)"}],value2:"bb",time:""}},computed:l()({Time:function(){if(this.meal==this.value1&&"mf"!=this.meal){if("bb"==this.value2)return this.time;if("ygy"==this.value2)return this.getTime(this.mealtime,1);if("sgy"==this.value2)return this.getTime(this.mealtime,3);if("bn"==mealtime)return this.getTime(this.mealtime,6);if("yn"==mealtime)return this.getTime(this.mealtime,12)}else if("mf"==this.meal){var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0");if("bb"==this.value2)return this.time;if("ygy"==this.value2)return this.getTime(e,1);if("sgy"==this.value2)return this.getTime(e,3);if("bn"==this.value2)return this.getTime(e,6);if("yn"==this.value2)return this.getTime(e,12)}else if("bz"==this.meal&&"gj"==this.value1){if("bb"==this.value2)return this.time;var i=new Date,a=i.getFullYear()+"-"+(i.getMonth()+1).toString().padStart(2,"0")+"-"+i.getDate().toString().padStart(2,"0");if("ygy"==this.value2)return this.getTime(a,1);if("sgy"==this.value2)return this.getTime(a,3);if("bn"==this.value2)return this.getTime(a,6);if("yn"==this.value2)return this.getTime(a,12)}},enough:function(){return!(parseFloat(this.money)<parseFloat(this.price))}},Object(n.b)(["meal","mealtime","money","uid"]),{all_price:function(){if("mf"==this.value1)return"0.00";if("bz"==this.value1){if("bb"==this.value2)return"0.00";if("ygy"==this.value2)return"20.00";if("sgy"==this.value2)return parseFloat(51).toFixed(2,"0");if("bn"==this.value2)return parseFloat(96).toFixed(2,"0");if("yn"==this.value2)return parseFloat(168).toFixed(2,"0")}else if("gj"==this.value1){if("bb"==this.value2)return"0.00";if("ygy"==this.value2)return"50.00";if("sgy"==this.value2)return parseFloat(127.5).toFixed(2,"0");if("bn"==this.value2)return parseFloat(240).toFixed(2,"0");if("yn"==this.value2)return parseFloat(420).toFixed(2,"0")}},d_price:function(){if("mf"==this.meal)return"0.00";if("bz"==this.meal){if("mf"==this.value1)return alert("不能降低套餐!"),this.value1="bz","0.00";if("bz"==this.value1)return"0.00";var t=this.mealtime.substring(0,4),e=this.mealtime.substring(5,7),i=this.mealtime.substring(8,10),a=new Date,l=a.getFullYear()+"-"+(a.getMonth()+1).toString().padStart(2,"0")+"-"+a.getDate().toString().padStart(2,"0")+" ",s=l.substring(0,4),r=l.substring(5,7),n=l.substring(8,10),u=parseInt(t)-parseInt(s),h=parseInt(e)-parseInt(r),o=parseInt(i)-parseInt(n);return parseFloat(365*u*.5+30*h*.5+.5*o).toFixed(2,"0")}if("gj"==this.meal){if("bz"==this.value1||"mf"==this.value1)return alert("不能降低套餐!"),this.value1="gj","0.00";if("gj"==this.value1)return"0.00"}},price:function(){return parseFloat(this.all_price-this.d_price)<0?"0.00":parseFloat(this.all_price-this.d_price).toFixed(2,"0")}}),methods:{getTime:function(t,e){var i=t.substring(0,4),a=parseInt(t.substring(5,7)),l=parseInt(t.substring(8,10)),s=new Date;return s.setFullYear(i),s.setMonth(a),s.setDate(l),s.setMonth(s.getMonth()+e-1),s.getFullYear()+"-"+(s.getMonth()+1).toString().padStart(2,"0")+"-"+s.getDate().toString().padStart(2,"0")},submit:function(){if("mf"!=this.value1||"mf"!=this.meal){if(parseFloat(this.all_price-this.d_price)<0)return alert("充值参数有误!"),!1;r.a.post("https://api.logpay.cn/user/cmeal",{uid:this.uid,meal:this.value1,mealtime:this.value2,cmoney:this.price,renew:this.checked}).then().catch(function(t){return console.log(t)}),location.href="/"}else location.href="https://www.logpay.cn/account/#/user/cmeal"},gettime:function(){if("mf"==this.value1){var t=new Date;this.time=t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0")+" "}else this.time=this.mealtime}},mounted:function(){this.value1=this.meal,this.gettime()}},h=(i("+hE4"),i("KHd+")),o=Object(h.a)(u,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("div",{staticClass:"meal"},[i("p",[t._v("套餐")]),t._v(" "),i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},t._l(t.Meal,function(t){return i("el-option",{key:t.value1,attrs:{label:t.label,value:t.value1}})}))],1),t._v(" "),i("div",{staticClass:"mealtime"},[i("p",[t._v("时间")]),t._v(" "),i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.Mealtime,function(t){return i("el-option",{key:t.value2,attrs:{label:t.label,value:t.value2}})}))],1),t._v(" "),i("div",{staticClass:"meal-time"},[i("p",[t._v("过期时间")]),t._v(" "),i("span",{staticStyle:{color:"#67C23A"}},[t._v(t._s(t.Time))])]),t._v(" "),i("div",{staticClass:"price"},[i("p",[t._v("费用")]),t._v(" "),i("p",{staticStyle:{color:"#67C23A","font-size":"15px"}},[t._v("总费用￥"+t._s(t.all_price)+", 原套餐抵扣￥"+t._s(t.d_price)+", 补差价￥"+t._s(t.price))])]),t._v(" "),t.enough?i("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"success"},on:{click:t.submit}},[t._v("确定")]):i("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"success"}},[i("a",{attrs:{href:"https://www.logpay.cn/account/#/user/recharge"}},[t._v("余额不足请先充值")])]),t._v(" "),i("el-checkbox",{staticStyle:{"margin-bottom":"3px"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("开启自动套餐续费")])],1)},[],!1,null,"5f716107",null);o.options.__file="index.vue";e.default=o.exports}}]);